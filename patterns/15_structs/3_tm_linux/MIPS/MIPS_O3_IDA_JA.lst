main:

; IDAは構造体のフィールド名がわからないので、手動で名前を付けます

var_40          = -0x40
var_38          = -0x38
seconds         = -0x34
minutes         = -0x30
hour            = -0x2C
day             = -0x28
month           = -0x24
year            = -0x20
var_4           = -4

                lui     $gp, (__gnu_local_gp >> 16)
                addiu   $sp, -0x50
                la      $gp, (__gnu_local_gp & 0xFFFF)
                sw      $ra, 0x50+var_4($sp)
                sw      $gp, 0x50+var_40($sp)
                lw      $t9, (time & 0xFFFF)($gp)
                or      $at, $zero ; ロード遅延スロット, NOP
                jalr    $t9
                move    $a0, $zero ; 分岐遅延スロット, NOP
                lw      $gp, 0x50+var_40($sp)
                addiu   $a0, $sp, 0x50+var_38
                lw      $t9, (localtime_r & 0xFFFF)($gp)
                addiu   $a1, $sp, 0x50+seconds
                jalr    $t9
                sw      $v0, 0x50+var_38($sp) ; 分岐遅延スロット
                lw      $gp, 0x50+var_40($sp)
                lw      $a1, 0x50+year($sp)
                lw      $t9, (printf & 0xFFFF)($gp)
                la      $a0, $LC0        # "Year: \%d\textbackslash{}n"
                jalr    $t9
                addiu   $a1, 1900 ; 分岐遅延スロット
                lw      $gp, 0x50+var_40($sp)
                lw      $a1, 0x50+month($sp)
                lw      $t9, (printf & 0xFFFF)($gp)
                lui     $a0, ($LC1 >> 16)  # "Month: \%d\textbackslash{}n"
                jalr    $t9
                la      $a0, ($LC1 & 0xFFFF)  # "Month: \%d\textbackslash{}n" ; 分岐遅延スロット
                lw      $gp, 0x50+var_40($sp)
                lw      $a1, 0x50+day($sp)
                lw      $t9, (printf & 0xFFFF)($gp)
                lui     $a0, ($LC2 >> 16)  # "Day: \%d\textbackslash{}n"
                jalr    $t9
                la      $a0, ($LC2 & 0xFFFF)  # "Day: \%d\textbackslash{}n" ; 分岐遅延スロット
                lw      $gp, 0x50+var_40($sp)
                lw      $a1, 0x50+hour($sp)
                lw      $t9, (printf & 0xFFFF)($gp)
                lui     $a0, ($LC3 >> 16)  # "Hour: \%d\textbackslash{}n"
                jalr    $t9
                la      $a0, ($LC3 & 0xFFFF)  # "Hour: \%d\textbackslash{}n" ; 分岐遅延スロット
                lw      $gp, 0x50+var_40($sp)
                lw      $a1, 0x50+minutes($sp)
                lw      $t9, (printf & 0xFFFF)($gp)
                lui     $a0, ($LC4 >> 16)  # "Minutes: \%d\textbackslash{}n"
                jalr    $t9
                la      $a0, ($LC4 & 0xFFFF)  # "Minutes: \%d\textbackslash{}n" ; 分岐遅延スロット
                lw      $gp, 0x50+var_40($sp)
                lw      $a1, 0x50+seconds($sp)
                lw      $t9, (printf & 0xFFFF)($gp)
                lui     $a0, ($LC5 >> 16)  # "Seconds: \%d\textbackslash{}n"
                jalr    $t9
                la      $a0, ($LC5 & 0xFFFF)  # "Seconds: \%d\textbackslash{}n" ; 分岐遅延スロット
                lw      $ra, 0x50+var_4($sp)
                or      $at, $zero ; ロード遅延スロット, NOP
                jr      $ra
                addiu   $sp, 0x50

$LC0:           .ascii "Year: %d\n"<0>   
$LC1:           .ascii "Month: %d\n"<0>  
$LC2:           .ascii "Day: %d\n"<0>    
$LC3:           .ascii "Hour: %d\n"<0>   
$LC4:           .ascii "Minutes: %d\n"<0>
$LC5:           .ascii "Seconds: %d\n"<0>
